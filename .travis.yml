language: C

os:
  - linux
  - osx
sudo: required
env:
  global:
    - DEPS_DIR="${HOME}/deps"
    - COVERAGE="true"
    # Anaconda password
    - secure: "co+NmbYLEZWq3AgsvgYY1P6WSzsp4/5X1o1R/oXKsaSP7UIkYoI2rwkPgugAPBAt27K/wZUEXlzYGtb9EiW27NhRnnI1H4g3Qe9RRUl6x8Zs/g+KI/s5E68Srb8wdfTXCD2ANguBUniYgMGT4ti3ZzXyVaCrIlMApbrVjBwZ+f3qf7Dv41yj+yzk8AjbjL5cYnczdjmL0dtGVFknoOu50dMN5ZigTdD6Fn+sY7Xt3HBMCSJuRAKP4s7rEOMa1qWhchFX1sAiM/+tWr4vewNpaKkQE4VefnZ2TvZZPGhfd+gZ7VR/eDDKIw3G0MEzGNO/wjsgjr86S44QyUGY4ZNuP3bmFAlFumk0j45eFWznks75EIkQGEXZudZFaDIgderhU2NYc5weQI/4eaouDeH8vZavbwiazLfoj4G6RbrKKx8gr4TNp5AehCrau6YzgLtZ3reoaftLfvYapc3Y5o5eXuPFqBuOnaFwkhV4S5tazxb7U9h9KzK5Jg0X5CBadJfzJEraayutv+GZtnbFBEZ9e25GiB9CFvF3TMRIYm4lfs1UlJXFiNpRmKgOTsmk4JcIK565JvEz44x4VxR9moBVIsycyfD2C36DCtmnUGdDhSkg/ziWIhxmfjWYU2GtloDw3Q7D9Yj484abyyaBTzKk/tw/RQn6JdfxKdwNEBAV5xs="
    - secure: "iW+27IIMC5OjmfF/CnN6NXC9cF7pBeDs4oXOzUQpydax0N2QPPDR6pJWwvkml9WHUI28UVe5HdjeHh5+3FX2XNgVm1uao/+8ge+3Y6wUMYr88CK9NNHjOynR6jXUfHvlsA/g2s1DmwXZzdp36s8skIDKLJ2WzaDkV9Vxru6TKrIyVNcInOde4ZQpmmIQb1IPWnls/TLVDtFunclXHhELMtWNE0f1UQ/9Y+6l4M7WA47dYyMQ9pGTpPluvxfa31jg5xSbFZoYPvcAoJyJf05aiRDDhuURC0TUgcnn5lr5f25rrxtn073ecTvx8x8OIYWXHpzj7ZRu7AY7mRP+imaiKNrkUiW9duLzT1vM0YnCrHiLjjVaV8i7SM+5ax1Y7QdyGJiMIjtjiKKS7jzvw1meYG1BgMGOL8AcmCJ8Hqxj9SL15pcuy3qGM6rtEmQF1cylYcWKuqPhFVQC7hy8TLlqmPSJ1+UinE2/T4EPNU8VoHF3ew3Ccp6NltvmZhDdPaLEWOl+RNHqOntX1Ny2RQTarE0iaHf1cJ2p5+1evlwEJzVk8tixCt1lWaW0HYSS0Cx5vJ3uFWHmqHLbxiI4Q8slZi4Z49T0gkUz2sK6RpMpX7CCbQO16PXWdIXh9ngmJFedaRTRKcoXfu8s8f5fTUQD9R8UzpfVxyMnWp4rt6OdZvg="
  matrix:
    - PYTHON_VERSION="2.7"
    - PYTHON_VERSION="3.5"
    - PYTHON_VERSION="3.6"
install: bash ci/travis/install.sh
script: bash ci/travis/script.sh


deploy:
 # Deploy to Anaconda.org
  - provider: script
    script: "bash $TRAVIS_BUILD_DIR/ci/travis/deploy.sh"
    on:
      tags: true
    skip_cleanup: true
