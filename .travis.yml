language: C

os:
  - linux
  - osx
sudo: required
env:
  global:
    - DEPS_DIR="${HOME}/deps"
    - COVERAGE="true"
    # Anaconda password
    - secure: "co+NmbYLEZWq3AgsvgYY1P6WSzsp4/5X1o1R/oXKsaSP7UIkYoI2rwkPgugAPBAt27K/wZUEXlzYGtb9EiW27NhRnnI1H4g3Qe9RRUl6x8Zs/g+KI/s5E68Srb8wdfTXCD2ANguBUniYgMGT4ti3ZzXyVaCrIlMApbrVjBwZ+f3qf7Dv41yj+yzk8AjbjL5cYnczdjmL0dtGVFknoOu50dMN5ZigTdD6Fn+sY7Xt3HBMCSJuRAKP4s7rEOMa1qWhchFX1sAiM/+tWr4vewNpaKkQE4VefnZ2TvZZPGhfd+gZ7VR/eDDKIw3G0MEzGNO/wjsgjr86S44QyUGY4ZNuP3bmFAlFumk0j45eFWznks75EIkQGEXZudZFaDIgderhU2NYc5weQI/4eaouDeH8vZavbwiazLfoj4G6RbrKKx8gr4TNp5AehCrau6YzgLtZ3reoaftLfvYapc3Y5o5eXuPFqBuOnaFwkhV4S5tazxb7U9h9KzK5Jg0X5CBadJfzJEraayutv+GZtnbFBEZ9e25GiB9CFvF3TMRIYm4lfs1UlJXFiNpRmKgOTsmk4JcIK565JvEz44x4VxR9moBVIsycyfD2C36DCtmnUGdDhSkg/ziWIhxmfjWYU2GtloDw3Q7D9Yj484abyyaBTzKk/tw/RQn6JdfxKdwNEBAV5xs="
    # PyPi username
    - secure: "ag2sJvMY4FZga06aISkOebNnMfFqvaLkykzvN/6cO7v9PrfeUtQdrdniTmI+//2blmrzEgT2M6M3wtp91etRe3t1ioSHyrlABZs4B0XEB+9z2gyi1OMho4jr4cKxGP3hqbWCsKcsg5WkYtiuN2o9YNM1yzdOgCLkRhNk8x9EjAK/aOPcan3P4sZKJRC8mBNS7qdtPjHXWREM/xvleubP0zeDW96wxU5CBh1t788ftQVb7Kypmrd8aohgiR5IY8Li0uQ9UmOBSzLTmOMSibYBm2cIfTDKgtZNSRPT3aB0S4RbT3ohiXAbdb82qUm3Vbp/Fyg5c5MrSuVZm3KPwo6l8gMwCtB6AMtXg7OK6BFmyFVyl9NDUd2wRZHF824UdpKQi8R4mnV3rw6HsAdqeJqik/IU4FGqMxsBF/gU4RTXIcDaABm63Araoi6f9G/eZ/bLBemec4jZlvMmfWdMdUZja1Is1KlD8cesxcIdvQ2Wbbc2YYTZGjmgi9HLCIDgpXUXqecZzybunlzsJVmJCzv46jdd/XVLcOfvAffk5fHCRLHXE25IS4bbcoftsuZfg+ZVGX16D7LxLZXVRc3J+1OG2O/MpF2GldhIAu/98KZqd/MUOZd1sVJVs1xxEso2OzIZhuR3tWxSIuefsF5PjRjwJTNdy4zW70u9W64ApZ08QJo="
    # PyPi password
    - secure: "EMA2wKR9GV+BjFSc114jZdvTfbAC2Du6kXK2ZCHpPHld+V+emfMGcAa2gHp5h4TP9Ic0ZMgormwefhGqIFD7b9RJD8xwkVPrOTeW0NyHBvEszY0gFVS0JUeCEsEs6ngblhAthCueSa/oYtYeJdVCRohu102j7tji8nZs3mGlbJPh4nQiQBP0sHp7dOknsdjt1Uzqcx0KIoJJKrIngk1Gp9ME0hlSwyz4KoriXsTVmb9WIBlxNPhnTF3E+0Ix388bxLj2pk4LXIMS21oq+W5XWIKLeUncLnTCQGSs3Ib8KwudoybmO5Mtby9utvwIbaFCj8sk2PBzGG0mFYmKkzOHielzkRrl08XJjdNauLx9ypzjHxnDrPZQ5M9f264reD4rcsX7EURI3aYtnBV4gsn5UnlZEQ3OUbSRU/7PwTVFpqlZHq7jfGP4Oil0R2QhtQLwAxgocKxthHfweqB8kNZyE4tsGwzHVkBwbZ2J+7ncnlvwFNnq+IcEGS+Lfu1gzyJR95vGTsS+DRJY2V4CSUbaVO9lPwKhjmayg7e1Psm/QoTOqVnpxCOUcWVsGuxi1a+d/t26Kxp4gC4wGcgDc+1lixHqRb7OnclteAsXBWtF/VNK7Bzjh3hSrXiYlyoGWP10XVg4N7UjGo2XYuiDFFApQHjr6lkIVPyCg3iJT8hB1Ns="
  matrix:
    - PYTHON_VERSION="2.7"
    - PYTHON_VERSION="3.5"
    - PYTHON_VERSION="3.6"
install: bash ci/travis/install.sh
script: bash ci/travis/script.sh
branches:
  only:
  - master
  - continuous_integration


deploy:
 # Deploy to Anaconda.org
  - provider: script
    script: "bash $TRAVIS_BUILD_DIR/ci/travis/deploy.sh"
    on:
        branch: continuous_integration
    #   tags: true
    skip_cleanup: true
